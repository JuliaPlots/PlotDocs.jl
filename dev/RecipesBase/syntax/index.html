<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Recipes Syntax · Plots</title><meta name="title" content="Recipes Syntax · Plots"/><meta property="og:title" content="Recipes Syntax · Plots"/><meta property="twitter:title" content="Recipes Syntax · Plots"/><meta name="description" content="Documentation for Plots."/><meta property="og:description" content="Documentation for Plots."/><meta property="twitter:description" content="Documentation for Plots."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../../democards/bulmagridtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Plots logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Plots</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../install/">Installation</a></li><li><a class="tocitem" href="../../basics/">Basics</a></li><li><a class="tocitem" href="../../tutorial/">Tutorial</a></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Series Types</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../series_types/contour/">Contour Plots</a></li><li><a class="tocitem" href="../../series_types/histogram/">Histograms</a></li></ul></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../input_data/">Input Data</a></li><li><a class="tocitem" href="../../output/">Output</a></li><li><a class="tocitem" href="../../attributes/">Attributes</a></li><li><a class="tocitem" href="../../generated/attributes_series/">Series Attributes</a></li><li><a class="tocitem" href="../../generated/attributes_plot/">Plot Attributes</a></li><li><a class="tocitem" href="../../generated/attributes_subplot/">Subplot Attributes</a></li><li><a class="tocitem" href="../../generated/attributes_axis/">Axis Attributes</a></li><li><a class="tocitem" href="../../layouts/">Layouts</a></li><li><input class="collapse-toggle" id="menuitem-3-9" type="checkbox" checked/><label class="tocitem" for="menuitem-3-9"><span class="docs-label">Recipes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../recipes/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-3-9-2" type="checkbox" checked/><label class="tocitem" for="menuitem-3-9-2"><span class="docs-label">RecipesBase</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Recipes Syntax</a></li><li><a class="tocitem" href="../types/">Recipes Types</a></li><li><a class="tocitem" href="../internals/">Internals</a></li><li><a class="tocitem" href="../api/">Public API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-9-3" type="checkbox"/><label class="tocitem" for="menuitem-3-9-3"><span class="docs-label">RecipesPipeline</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../RecipesPipeline/">Home</a></li><li><a class="tocitem" href="../../RecipesPipeline/api/">Public API</a></li></ul></li></ul></li><li><a class="tocitem" href="../../colors/">Colors</a></li><li><a class="tocitem" href="../../generated/colorschemes/">ColorSchemes</a></li><li><a class="tocitem" href="../../animations/">Animations</a></li><li><a class="tocitem" href="../../generated/plotthemes/">Themes</a></li><li><a class="tocitem" href="../../backends/">Backends</a></li><li><a class="tocitem" href="../../generated/supported/">Supported Attributes</a></li></ul></li><li><a class="tocitem" href="../../learning/">Learning</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li><li><span class="tocitem">Ecosystem</span><ul><li><a class="tocitem" href="../../generated/statsplots/">StatsPlots</a></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">GraphRecipes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../GraphRecipes/introduction/">Introduction</a></li><li><a class="tocitem" href="../../GraphRecipes/examples/">Examples</a></li><li><a class="tocitem" href="../../generated/graph_attributes/">Attributes</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">UnitfulExt</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../UnitfulExt/unitfulext/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-6-3-2" type="checkbox"/><label class="tocitem" for="menuitem-6-3-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../generated/unitfulext_examples/">Simple</a></li><li><a class="tocitem" href="../../generated/unitfulext_plots/">Plots</a></li></ul></li></ul></li><li><a class="tocitem" href="../../ecosystem/">Overview</a></li></ul></li><li><span class="tocitem">Advanced Topics</span><ul><li><a class="tocitem" href="../../pipeline/">Internals</a></li></ul></li><li><span class="tocitem">Gallery</span><ul><li><a class="tocitem" href="../../gallery/gr/">GR</a></li><li><a class="tocitem" href="../../gallery/pythonplot/">PythonPlot</a></li><li><a class="tocitem" href="../../gallery/plotlyjs/">PlotlyJS</a></li><li><a class="tocitem" href="../../gallery/pgfplotsx/">PGFPlotsX</a></li><li><a class="tocitem" href="../../gallery/unicodeplots/">UnicodePlots</a></li><li><a class="tocitem" href="../../gallery/gaston/">Gaston</a></li><li><a class="tocitem" href="../../gallery/inspectdr/">InspectDR</a></li></ul></li><li><a class="tocitem" href="../../user_gallery/">User Gallery</a></li><li><a class="tocitem" href="../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li><a class="is-disabled">Recipes</a></li><li><a class="is-disabled">RecipesBase</a></li><li class="is-active"><a href>Recipes Syntax</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Recipes Syntax</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPlots/PlotDocs.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPlots/PlotDocs.jl/blob/master/docs/work/RecipesBase/syntax.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Recipes-Syntax"><a class="docs-heading-anchor" href="#Recipes-Syntax">Recipes Syntax</a><a id="Recipes-Syntax-1"></a><a class="docs-heading-anchor-permalink" href="#Recipes-Syntax" title="Permalink"></a></h1><p>The syntax in the <a href="../api/#RecipesBase.@recipe-Tuple{Expr}"><code>@recipe</code></a> macro is best explained using an example. Suppose, we have a custom type storing the results of a simulation <code>x</code> and <code>y</code> and a measure <code>ε</code> for the maximum error in <code>y</code>.</p><pre><code class="language-julia hljs">struct Result
    x::Vector{Float64}
    y::Vector{Float64}
    ε::Vector{Float64}
end</code></pre><p>If we want to plot the <code>x</code> and <code>y</code> values of such a result with an error band given by <code>ε</code>, we could run something like</p><pre><code class="language-julia hljs">res = Result(1:10, cumsum(rand(10)), cumsum(rand(10)) / 5)

using Plots

# plot the error band as invisible line with fillrange
plot(
    res.x,
    res.y .+ res.ε,
    xlabel = &quot;x&quot;,
    ylabel = &quot;y&quot;,
    fill = (res.y .- res.ε, :lightgray, 0.5),
    linecolor = nothing,
    primary = false, # no legend entry
)

# add the data to the plots
plot!(res.x, res.y, marker = :diamond)</code></pre><img src="728a9af0.svg" alt="Example block output"/><p>Instead of typing this plot command over and over for different results we can define a <strong>user recipe</strong> to tell Plots what to do with input of the type <code>Result</code>. Here is an example for such a user recipe with the additional feature to highlight datapoints with a maximal error above a certain threshold <code>ε_max</code>.</p><pre><code class="language-julia hljs">@recipe function f(r::Result; ε_max = 0.5)
    # set a default value for an attribute with `--&gt;`
    xlabel --&gt; &quot;x&quot;
    yguide --&gt; &quot;y&quot;
    markershape --&gt; :diamond
    # add a series for an error band
    @series begin
        # force an argument with `:=`
        seriestype := :path
        # ignore series in legend and color cycling
        primary := false
        linecolor := nothing
        fillcolor := :lightgray
        fillalpha := 0.5
        fillrange := r.y .- r.ε
        # ensure no markers are shown for the error band
        markershape := :none
        # return series data
        r.x, r.y .+ r.ε
    end
    # get the seriescolor passed by the user
    c = get(plotattributes, :seriescolor, :auto)
    # highlight big errors, otherwise use the user-defined color
    markercolor := ifelse.(r.ε .&gt; ε_max, :red, c)
    # return data
    r.x, r.y
end</code></pre><p>Let&#39;s walk through this recipe step by step. First, the function signature in the recipe definition determines the recipe type, in this case a user recipe. The function name <code>f</code> in is irrelevant and can be replaced by any other function name. <a href="../api/#RecipesBase.@recipe-Tuple{Expr}"><code>@recipe</code></a> does not use it. In the recipe body we can set default values for <a href="https://docs.juliaplots.org/latest/attributes/">Plots attributes</a>.</p><pre><code class="nohighlight hljs">attr --&gt; val</code></pre><p>This will set <code>attr</code> to <code>val</code> unless it is specified otherwise by the user in the plot command.</p><pre><code class="nohighlight hljs">plot(args...; kw..., attr = otherval)</code></pre><p>Similarly we can force an attribute value with <code>:=</code>.</p><pre><code class="nohighlight hljs">attr := val</code></pre><p>This overwrites whatever the user passed to <code>plot</code> for <code>attr</code> and sets it to <code>val</code>.</p><div class="admonition is-success" id="Tip-d0a874a83468d06a"><header class="admonition-header">Tip<a class="admonition-anchor" href="#Tip-d0a874a83468d06a" title="Permalink"></a></header><div class="admonition-body"><p>It is strongly recommended to avoid using attribute aliases in recipes as this might lead to unexpected behavior in some cases. In the recipe above <code>xlabel</code> is used as aliases for <code>xguide</code>. When the recipe is used Plots will show a warning and hint to the default attribute name. They can also be found in the attribute tables under https://docs.juliaplots.org/latest/attributes/.</p></div></div><p>We use the <a href="../api/#RecipesBase.@series-Tuple{Expr}"><code>@series</code></a> macro to add a new series for the error band to the plot. Within an <a href="../api/#RecipesBase.@series-Tuple{Expr}"><code>@series</code></a> block we can use the same syntax as above to force or set default values for attributes.</p><p>In <a href="../api/#RecipesBase.@recipe-Tuple{Expr}"><code>@recipe</code></a> we have access to <code>plotattributes</code>. This is an <code>AbstractDict</code> storing the attributes that have been already processed at the current stage in the Plots pipeline. For user recipes, which are called early in the pipeline, this mostly contains the keyword arguments provided by the user in the <code>plot</code> command. In our example we want to highlight data points with an error above a certain threshold by changing the marker color. For all other data points we set the marker color to whatever is the default or has been provided as keyword argument. We can do this by getting the <code>seriescolor</code> from <code>plotattributes</code> and defaulting to <code>auto</code> if it has not been specified by the user.</p><p>Finally, in both, <a href="../api/#RecipesBase.@recipe-Tuple{Expr}"><code>@recipe</code></a>s and <a href="../api/#RecipesBase.@series-Tuple{Expr}"><code>@series</code></a> blocks we return the data we wish to pass on to Plots (or the next recipe).</p><div class="admonition is-compat" id="Compat-a3a5e6cadbc523fb"><header class="admonition-header">Compat<a class="admonition-anchor" href="#Compat-a3a5e6cadbc523fb" title="Permalink"></a></header><div class="admonition-body"><p>With RecipesBase 1.0 the <code>return</code> statement is allowed in <a href="../api/#RecipesBase.@recipe-Tuple{Expr}"><code>@recipe</code></a> and <a href="../api/#RecipesBase.@series-Tuple{Expr}"><code>@series</code></a>.</p></div></div><p>With the recipe above we can now plot <code>Result</code>s with just</p><pre><code class="language-julia hljs">plot(res)</code></pre><img src="64636c14.svg" alt="Example block output"/><p>or</p><pre><code class="language-julia hljs">scatter(res, ε_max = 0.7, color = :green, marker = :star)</code></pre><img src="b05973a8.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../types/">Recipes Types »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Wednesday 2 July 2025 15:28">Wednesday 2 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
